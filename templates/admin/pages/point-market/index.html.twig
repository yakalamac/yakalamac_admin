{% extends "admin/base.html.twig" %}

{% block title %}
	Puan Market Etkinlikleri Listesi
{% endblock %}

{% block body %}
	<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
		<div class="breadcrumb-title pe-3">
			<h1>Puan Market Etkinlikleri</h1>
		</div>
		<div class="ps-3">
			<nav aria-label="breadcrumb">
				<ol class="breadcrumb mb-0 p-0">
					<li class="breadcrumb-item">
						<a href="javascript:void(0)"></a>
					</li>
					<li class="breadcrumb-item active" aria-current="page">Anasayfa</li>
				</ol>
			</nav>
		</div>
		<a href="/admin/point_market/add" class="right2 btn btn-grd btn-grd-success add-btn">
			Etkinlik Oluşur</a>
	</div>
	<div class="card">
		<div class="card-body">
			<div class="table-responsive">
				<div id="example_wrapper" class="dataTables_wrapper dt-bootstrap5">
					<div class="row">
						<div class="col-sm-12 col-md-6">
							<div class="dataTables_length" id="example_length">
								<label>
									<select name="example_length" aria-controls="example" class="form-select form-select-sm">
										<option value="10" {% if limit == 10 %} selected {% endif %}>10</option>
										<option value="25" {% if limit == 25 %} selected {% endif %}>25</option>
										<option value="50" {% if limit == 50 %} selected {% endif %}>50</option>
										<option value="100" {% if limit == 100 %} selected {% endif %}>100</option>
									</select>
									Sonuç Gösteriliyor</label>
							</div>
						</div>
						<div class="col-sm-12 col-md-6">
							<div id="example_filter" class="dataTables_filter">
								<label>Ara:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="example"></label>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<table id="example" class="table table-striped table-bordered dataTable" style="width:100%" role="grid" aria-describedby="example_info">
								<thead>
									<tr role="row">
										<th>İsim</th>
										<th>Fiyat</th>
										<th>Stok</th>
										<th>Durum</th>
										<th>Başlama Tarihi</th>
										<th>Bitiş Tarihi</th>
										<th scope="col">İşlemler</th>
									</tr>
								</thead>
								<tbody>
									{% for reward in rewards %}
										<tr role="row" class="{{ loop.index is odd ? 'odd' : 'even' }}">
											<td>{{ reward.name }}</td>
											<td>{{ reward.price }}</td>
											<td>{{ reward.stock }}</td>
											<td>{{ reward.status }}</td>
											<td>{{ reward.startAt | date('Y-m-d H:i') }}</td>
											<td>{{ reward.endAt | date('Y-m-d H:i') }}</td>
											<td>
												<button class="btn btn-sm btn-primary edit-btn" data-id="{{ reward.id }}">Düzenle</button>
												<button class="btn btn-sm btn-danger delete-btn" data-id="{{ reward.id }}">Sil</button>
											</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12 col-md-5">
							<div class="dataTables_info" id="example_info" role="status" aria-live="polite">
								{{ (currentPage - 1) * limit + 1 }}
								to
								{{ currentPage * limit }}
								of
								{{ totalItems }}
								sonuç gösteriliyor
							</div>
						</div>
						<div class="col-sm-12 col-md-7">
							<div class="dataTables_paginate paging_simple_numbers" id="example_paginate">
								<ul class="pagination">
									<li class="paginate_button page-item previous {% if currentPage == 1 %}disabled{% endif %}" id="example_previous">
										<a href="{{ path('point_market', {'page': currentPage - 1}) }}" class="page-link">Geri</a>
									</li>
									{% for page in 1..totalPages %}
										<li class="paginate_button page-item {% if page == currentPage %}active{% endif %}">
											<a href="{{ path('point_market', {'page': page}) }}" class="page-link">{{ page }}</a>
										</li>
									{% endfor %}
									<li class="paginate_button page-item next {% if currentPage == totalPages %}disabled{% endif %}" id="example_next">
										<a href="{{ path('point_market', {'page': currentPage + 1}) }}" class="page-link">İleri</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
		<script type="module" src="{{ asset('script/admin/point-market/index.js') }}"></script>
{% endblock %}
