{% extends 'admin/base.html.twig' %}

{% block title %}{{ title }}{% endblock %}

{% block template_stylesheets %}
    <link rel="stylesheet" href="{{ asset('assets/plugins/select2/css/select2.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/plugins/select2/css/select2-bootstrap-4.css') }}">
    <link rel="stylesheet" href="{{ asset('assets/plugins/select2/css/select2-bootstrap-5-theme.min.css') }}">
{#    <link rel="stylesheet" href="{{ asset('assets/plugins/datatable/css/jquery.dataTables.min.css') }}">#}
    <link rel="stylesheet" href="{{ asset('assets/plugins/datatable/css/dataTables.bootstrap5.min.css') }}">
{% endblock %}

{% block body %}
    <h1>{{ pageTitle }}</h1>
    <button id="addCategoryBtn" class="btn btn-grd btn-grd-success mb-3">Yeni Kategori Ekle</button>
    <div class="card">
        <div class="card-body">
            <div class="table-responsive">
                <table id="{{ tableName }}" class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        {% if hasIcon is defined and hasIcon %}
                            <th>İkon</th>
                        {% endif %}
                        <th>Başlık</th>
                        <th>Açıklama</th>
                        <th>Düzenleme Tarihi</th>
                        <th>Oluşturulma Tarihi</th>
                        <th>İşlem</th>
                    </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Kategoriyi Düzenle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="editForm">
                    <div class="modal-body">
                        <input type="hidden" name="id">
                        <div class="mb-3">
                            <label for="title" class="form-label">Başlık</label>
                            <input type="text" id="title" class="form-control" name="title" required>
                        </div>
                        <div class="mb-3">
                            <label for="description" class="form-label">Açıklama</label>
                            <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-grd btn-grd-deep-blue px-5" data-bs-dismiss="modal">Kapat
                        </button>
                        <button type="submit" class="btn btn-grd btn-grd-royal">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addModalLabel">Yeni Kategori Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="addForm">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="title" class="form-label">Başlık</label>
                            <input type="text" id="title" class="form-control" name="title" required>
                        </div>
                        <div class="mb-3">
                            <label for="description" class="form-label">Açıklama</label>
                            <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
                        <button type="submit" class="btn btn-primary">Kaydet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block template_scripts %}
    <script src="{{ asset('/assets/plugins/select2/js/select2.min.js') }}"></script>
    <script src="{{ asset('/assets/plugins/datatable/js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('/assets/plugins/datatable/js/dataTables.bootstrap5.min.js') }}"></script>
{% endblock %}

{% block javascripts %}
    <script {% if typeModule is defined and typeModule %}type="module"{% endif%} src="{{ asset(scriptSrc) }}"></script>
{% endblock %}